本文主要分享一种分布式ID生成方法，偏业务耦合，不是通用的解决方案

## 背景

需求很简单：对接一个外部系统的时候有一个批量调用接口，调用该接口的时候需传入一个批次的流水号，且每一笔单据也要一个流水号

流水号要求的规则是：8位日期 + 8位序号，如（20201018-12345678）

每天的日期是确定的， 只需要确定8位序号的生成方案

### 方案

### 使用数据库的自增特性

因为我们业务量不是很大，8位序号可以有1亿流水号完全够用，自然而然的想法就是使用数据库的自增特性；

这种方式

【

或者也可以使用公司发号器来获取ID

但是这两种方式我都不太倾向

自增特性方式

发号器：

需求描述

现状



实现

算法

数据库实现

代码仓储层面实现



问题、优化点

## 参考

[[Leaf——美团点评分布式ID生成系统](https://tech.meituan.com/2017/04/21/mt-leaf.htm)







